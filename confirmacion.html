<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Confirmación de Asistencia</title>
    <script>
        if (!localStorage.getItem('invitationViewed')) {
            window.location.href = 'invitacion.html';
        }
    </script>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="confirmation-background">
    <div class="form-section">
        <h2>Confirmar Asistencia</h2>
        <p id="guest-count-info" style="font-weight: bold;"></p>
        <div id="formContainer">
            <form id="attendanceForm">
                <div id="guestFieldsContainer">
                </div>
                
                <button type="submit" class="btn" id="submitBtn">Enviar Confirmación</button>
                
                <div id="responseMessage" class="response-message"></div>
            </form>
        </div>
        
        <div id="finalSuccessMessage" class="success-message-after-submit">
            <h3>¡Confirmación Recibida con Éxito!</h3>
            <p>Tus nombres han sido registrados. ¡Te esperamos en la fiesta!</p>
            <img src="https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExd2RneWJvdzNlZXJhdXI5NW5nOWVmM3oxOGprcXpkcTV3cHFiY3RxZiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/PXvCWUnmqVdks/giphy.gif" alt="Confirmación Exitosa">
            <button id="backToInviteBtn" class="btn back-btn" style="display: none;">Regresar a la Invitación</button>
            <button id="clearStorageBtn" class="btn back-btn" style="display: block; margin-top: 20px;">Borrar Registro de Envío (Solo para pruebas)</button>
        </div>

        <div id="alreadySubmittedMessage" class="response-message error" style="display: none;">
            Ya se ha enviado una respuesta desde este dispositivo.
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>